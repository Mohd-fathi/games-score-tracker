<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุชุณุฌูู ุงูููุงุท - ุงูุฏููููู ูุงูุญุฑูู</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.13.5/cdn.min.js" defer></script>
</head>
<body class="bg-gradient-to-br from-gray-900 to-gray-800 text-white min-h-screen flex flex-col items-center p-4">

  <!-- ุงูุดุนุงุฑ -->
  <header class="flex items-center gap-2 mb-6">
    <div class="w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center text-black font-bold text-xl shadow-lg">๐ฒ</div>
    <h1 class="text-2xl font-bold">ุชุณุฌูู ุงูููุงุท</h1>
  </header>

  <!-- ูููู ุงููุนุจุฉ -->
  <div x-data="gameApp()" class="bg-white/10 backdrop-blur-md p-6 rounded-2xl shadow-xl w-full max-w-2xl">

    <!-- ุงุฎุชูุงุฑ ุงููุนุจุฉ -->
    <div class="mb-4">
      <label class="block mb-2 font-semibold">ุงุฎุชุฑ ุงููุนุจุฉ:</label>
      <select x-model="selectedGame" @change="resetGame()" class="w-full p-2 rounded bg-gray-800 border border-gray-700">
        <option value="">-- ุงุฎุชุฑ --</option>
        <option value="domino">ุงูุฏููููู</option>
        <option value="harq">ุงูุญุฑูู</option>
      </select>
    </div>

    <!-- ุงุฎุชูุงุฑ ููุงุท ุงูุฏููููู -->
    <template x-if="selectedGame === 'domino'">
      <div class="mb-4">
        <label class="block mb-2 font-semibold">ุญุฏุฏ ุงูููุงุท (ุงูุฎุณุงุฑุฉ ุนูุฏ):</label>
        <select x-model="dominoTarget" class="w-full p-2 rounded bg-gray-800 border border-gray-700">
          <option value="51">51</option>
          <option value="101">101</option>
        </select>
      </div>
    </template>

    <!-- ุฅุฏุฎุงู ุฃุณูุงุก ุงููุงุนุจูู -->
    <div class="mb-4">
      <label class="block mb-2 font-semibold">ุฃุณูุงุก ุงููุงุนุจูู (ุงูุตู ุจูููู ุจูุงุตูุฉ):</label>
      <input x-model="playersInput" @keydown.enter.prevent="setPlayers" placeholder="ูุซุงู: ุนูู, ูุญูุฏ, ุฃุญูุฏ"
             class="w-full p-2 rounded bg-gray-800 border border-gray-700">
      <button @click="setPlayers" class="mt-2 px-4 py-2 bg-yellow-500 text-black font-semibold rounded-lg hover:bg-yellow-400 transition">ุฅุถุงูุฉ ุงููุงุนุจูู</button>
    </div>

    <!-- ุฌุฏูู ุงูููุงุท -->
    <template x-if="players.length > 0">
      <div>
        <h2 class="text-lg font-bold mb-2">ุงููุชุงุฆุฌ</h2>
        <table class="w-full border border-gray-700 text-center rounded overflow-hidden">
          <thead class="bg-gray-700">
            <tr>
              <th class="p-2">ุงููุงุนุจ</th>
              <th class="p-2">ุงููุฌููุน</th>
              <th class="p-2">ุฅุถุงูุฉ ููุงุท</th>
            </tr>
          </thead>
          <tbody>
            <template x-for="(player, index) in players" :key="index">
              <tr class="border-t border-gray-600 hover:bg-gray-700/50">
                <td class="p-2 font-semibold" x-text="player.name"></td>
                <td class="p-2" x-text="player.score"></td>
                <td class="p-2">
                  <input type="number" x-model.number="player.newScore" class="w-20 p-1 rounded bg-gray-800 border border-gray-700">
                  <button @click="addScore(index)" class="ml-2 px-3 py-1 bg-green-500 text-black rounded hover:bg-green-400 transition">+</button>
                </td>
              </tr>
            </template>
          </tbody>
        </table>
      </div>
    </template>

    <!-- ุงูุฎุงุณุฑ -->
    <template x-if="loser">
      <div class="mt-4 p-4 bg-red-600/80 rounded-lg text-white text-center font-bold animate-bounce">
        ุงูุฎุงุณุฑ ูู: <span x-text="loser"></span>
      </div>
    </template>

    <!-- ุฅุนุงุฏุฉ ุงููุนุจุฉ -->
    <div class="mt-6 text-center">
      <button @click="resetGame" class="px-4 py-2 bg-blue-500 rounded-lg hover:bg-blue-400 transition">ุฅุนุงุฏุฉ ุชุนููู ุงููุนุจุฉ</button>
    </div>
  </div>

  <!-- ุชุฐููู -->
  <footer class="mt-6 text-sm text-gray-400">
    ุตููู ุจูุงุณุทุฉ <span class="text-yellow-400 font-semibold">Mohd-Fathi</span>
  </footer>

  <script>
    function gameApp() {
      return {
        selectedGame: "",
        dominoTarget: 51,
        playersInput: "",
        players: [],
        loser: null,

        setPlayers() {
          if (!this.playersInput.trim()) return;
          this.players = this.playersInput.split(",").map(p => ({
            name: p.trim(),
            score: 0,
            newScore: 0
          }));
          this.playersInput = "";
          this.loser = null;
        },

        addScore(index) {
          if (this.players[index].newScore) {
            this.players[index].score += this.players[index].newScore;
            this.players[index].newScore = 0;
            this.checkLoser();
          }
        },

        checkLoser() {
          let target = 0;
          if (this.selectedGame === "domino") {
            target = parseInt(this.dominoTarget);
          } else if (this.selectedGame === "harq") {
            target = 31;
          }
          for (let player of this.players) {
            if (player.score >= target) {
              this.loser = player.name;
              break;
            }
          }
        },

        resetGame() {
          this.players = [];
          this.playersInput = "";
          this.loser = null;
        }
      }
    }
  </script>
</body>
</html>
