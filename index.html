<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุชุณุฌูู ุงูููุงุท - Mohd-Fathi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/alpinejs" defer></script>
  <style>
    /* ุฃููููุดู ูุฎุตุตุฉ */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes pop {
      0% { transform: scale(0.9); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    .fade-in-up { animation: fadeInUp 0.6s ease forwards; }
    .pop { animation: pop 0.3s ease; }
  </style>
</head>
<body class="bg-gray-900 text-white font-sans min-h-screen flex flex-col items-center p-4">

  <!-- ุงูููุฌู ู ุงูุนููุงู -->
  <header class="text-center mb-6 fade-in-up">
    <h1 class="text-3xl md:text-4xl font-bold text-yellow-400 drop-shadow-lg">๐ฎ ูุธุงู ุชุณุฌูู ุงูููุงุท</h1>
    <p class="text-sm text-gray-400">ุชุตููู: <span class="font-semibold text-white">Mohd-Fathi</span></p>
  </header>

  <!-- ุงูุชุทุจูู -->
  <main x-data="scoreApp()" class="w-full max-w-3xl bg-gray-800 p-4 md:p-6 rounded-2xl shadow-xl space-y-6 fade-in-up">

    <!-- ุงุฎุชูุงุฑ ุงููุนุจุฉ -->
    <div class="fade-in-up">
      <label class="block mb-2 font-semibold">ุงุฎุชุฑ ุงููุนุจุฉ:</label>
      <select x-model="selectedGame" class="w-full p-2 rounded bg-gray-900 border border-gray-700">
        <option value="">-- ุงุฎุชุฑ --</option>
        <option value="domino">ุงูุฏููููู</option>
        <option value="harreq">ุงูุญุฑูู</option>
      </select>
    </div>

    <!-- ุงุฎุชูุงุฑ ุงูููุงุท ูู ุงูุฏููููู -->
    <template x-if="selectedGame === 'domino'">
      <div class="fade-in-up">
        <label class="block mb-2 font-semibold">ุงุฎุชุฑ ุนุฏุฏ ุงูููุงุท:</label>
        <select x-model="dominoTarget" class="w-full p-2 rounded bg-gray-900 border border-gray-700">
          <option value="51">51</option>
          <option value="101">101</option>
        </select>
      </div>
    </template>

    <!-- ุฅุฏุฎุงู ุฃุณูุงุก ุงููุงุนุจูู -->
    <div class="fade-in-up">
      <label class="block mb-2 font-semibold">ุฃุฏุฎู ุงุณู ุงููุงุนุจ:</label>
      <div class="flex gap-2">
        <input x-model="singlePlayer" @keydown.enter.prevent="addPlayer"
               placeholder="ุงูุชุจ ุงุณู ุงููุงุนุจ" 
               class="flex-1 p-2 rounded bg-gray-900 border border-gray-700">
        <button @click="addPlayer" 
                class="px-4 py-2 bg-yellow-500 text-black font-semibold rounded-lg hover:bg-yellow-400 transition active:scale-95 pop">โ</button>
      </div>
    </div>

    <!-- ุนุฑุถ ุงููุงุนุจูู -->
    <template x-if="players.length > 0">
      <div class="fade-in-up">
        <h3 class="font-semibold mb-2">ุงููุงุนุจูู:</h3>
        <ul class="grid grid-cols-1 sm:grid-cols-2 gap-2">
          <template x-for="(player, index) in players" :key="index">
            <li class="bg-gray-700 px-3 py-2 rounded-lg flex items-center justify-between transition transform hover:scale-105">
              <span x-text="player.name"></span>
              <button @click="removePlayer(index)" class="text-red-400 hover:text-red-200 font-bold">โ</button>
            </li>
          </template>
        </ul>
      </div>
    </template>

    <!-- ุชุณุฌูู ุงูููุงุท -->
    <template x-if="players.length > 0 && selectedGame">
      <div class="space-y-4 fade-in-up">
        <h3 class="font-semibold mb-2">ุชุณุฌูู ุงูููุงุท:</h3>
        <template x-for="(player, index) in players" :key="index">
          <div class="flex flex-col sm:flex-row items-center gap-2 bg-gray-900 p-3 rounded-lg transition transform hover:scale-105">
            <span class="flex-1 font-bold" x-text="player.name"></span>
            <input type="number" x-model.number="player.newScore" placeholder="ุฃุฏุฎู ุงูููุงุท" 
                   class="w-full sm:w-32 p-2 rounded bg-gray-800 border border-gray-700">
            <button @click="updateScore(index)" 
                    class="px-3 py-2 bg-green-500 text-black rounded-lg hover:bg-green-400 transition pop">โ</button>
          </div>
        </template>
      </div>
    </template>

    <!-- ุงููุชุงุฆุฌ -->
    <template x-if="loser !== null">
      <div class="mt-4 text-center fade-in-up">
        <h2 class="text-xl font-bold">๐ ุงููุชุงุฆุฌ:</h2>
        <p class="text-red-400 font-bold text-lg">ุงูุฎุงุณุฑ: <span x-text="loser.name"></span></p>
        <p class="text-green-400 font-bold text-lg">ุงููุงุฆุฒ: <span x-text="winner.name"></span></p>
      </div>
    </template>

  </main>

  <script>
    function scoreApp() {
      return {
        selectedGame: "",
        dominoTarget: 51,
        players: [],
        loser: null,
        winner: null,
        singlePlayer: "",

        addPlayer() {
          if (this.singlePlayer.trim()) {
            this.players.push({ name: this.singlePlayer.trim(), score: 0, newScore: 0 });
            this.singlePlayer = "";
            this.loser = null;
            this.winner = null;
          }
        },

        removePlayer(index) {
          this.players.splice(index, 1);
          this.loser = null;
          this.winner = null;
        },

        updateScore(index) {
          let target = this.selectedGame === "domino" ? this.dominoTarget : 31;
          if (!this.players[index].newScore) return;
          this.players[index].score += this.players[index].newScore;
          this.players[index].newScore = 0;

          // ุชุญุฏูุฏ ุงูุฎุงุณุฑ
          let loser = this.players.find(p => p.score >= target);
          if (loser) {
            this.loser = loser;
            this.winner = this.players.reduce((min, p) => p.score < min.score ? p : min, this.players[0]);
          }
        }
      }
    }
  </script>
</body>
</html>
